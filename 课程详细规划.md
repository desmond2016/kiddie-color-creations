# ğŸ“ Kiddie Color Creations è¯¾ç¨‹è¯¦ç»†è§„åˆ’

## ğŸ“‹ è¯¾ç¨‹å®æ–½æ–¹æ¡ˆ

### ğŸ¯ è¯¾ç¨‹å®šä½
**å®æˆ˜å¯¼å‘çš„å…¨æ ˆå¼€å‘è¯¾ç¨‹**ï¼Œé€šè¿‡æ„å»ºçœŸå®å¯ç”¨çš„å„¿ç«¥æ¶‚è‰²åˆ›ä½œå¹³å°ï¼Œè®©å­¦å‘˜æŒæ¡ç°ä»£Webå¼€å‘çš„å®Œæ•´æŠ€èƒ½æ ˆã€‚

### ğŸ‘¥ ç›®æ ‡å­¦å‘˜
- **åˆå­¦è€…**ï¼šæœ‰åŸºç¡€PythonçŸ¥è¯†ï¼Œæƒ³å­¦ä¹ Webå¼€å‘
- **è½¬è¡Œè€…**ï¼šæœ‰å…¶ä»–è¯­è¨€ç»éªŒï¼Œæƒ³è½¬Python Webå¼€å‘
- **åœ¨æ ¡ç”Ÿ**ï¼šè®¡ç®—æœºç›¸å…³ä¸“ä¸šï¼Œéœ€è¦é¡¹ç›®ç»éªŒ
- **åœ¨èŒæå‡**ï¼šéœ€è¦å…¨æ ˆæŠ€èƒ½çš„å‰ç«¯/åç«¯å¼€å‘è€…

---

## ğŸ“š è¯¾ç¨‹æ¨¡å—è¯¦ç»†è®¾è®¡

### æ¨¡å—1ï¼šé¡¹ç›®åŸºç¡€ä¸ç¯å¢ƒæ­å»º
**ğŸ• æ—¶é•¿ï¼š2å°æ—¶ | ğŸ“Š éš¾åº¦ï¼šâ­ | ğŸ¯ ç›®æ ‡ï¼šå¿«é€Ÿä¸Šæ‰‹**

#### 1.1 é¡¹ç›®æ¼”ç¤ºä¸æ¶æ„åˆ†æ (30åˆ†é’Ÿ)
**å†…å®¹ç»“æ„ï¼š**
- 5åˆ†é’Ÿï¼šé¡¹ç›®åŠŸèƒ½å…¨æ™¯æ¼”ç¤º
  - ç”¨æˆ·æ³¨å†Œç™»å½•æµç¨‹
  - ç§¯åˆ†å……å€¼æ¶ˆè´¹
  - AIå›¾ç‰‡ç”Ÿæˆ
  - æ™ºèƒ½é…è‰²æ¨è
- 10åˆ†é’Ÿï¼šæŠ€æœ¯æ¶æ„å›¾è®²è§£
  - å‰åç«¯åˆ†ç¦»æ¶æ„
  - RESTful APIè®¾è®¡
  - æ•°æ®åº“å…³ç³»å›¾
- 10åˆ†é’Ÿï¼šæŠ€æœ¯é€‰å‹ç†ç”±
  - ä¸ºä»€ä¹ˆé€‰æ‹©Flaskè€Œä¸æ˜¯Django
  - SQLite vs MySQLçš„é€‰æ‹©
  - JWTè®¤è¯çš„ä¼˜ç¼ºç‚¹
- 5åˆ†é’Ÿï¼šå¼€å‘ç¯å¢ƒè¦æ±‚

**äº’åŠ¨ç¯èŠ‚ï¼š**
- å­¦å‘˜ç°åœºä½“éªŒé¡¹ç›®åŠŸèƒ½
- æé—®ç¯èŠ‚ï¼šæŠ€æœ¯é€‰å‹ç–‘é—®

#### 1.2 ç¯å¢ƒæ­å»ºå®æˆ˜ (45åˆ†é’Ÿ)
**åŠ¨æ‰‹å®è·µï¼š**
```bash
# 1. Pythonç¯å¢ƒæ£€æŸ¥
python --version  # è¦æ±‚3.7+
pip --version

# 2. é¡¹ç›®åˆå§‹åŒ–
git clone https://github.com/desmond2016/kiddie-color-creations.git
cd kiddie-color-creations/backend

# 3. ä¾èµ–å®‰è£…
pip install -r requirements.txt

# 4. æ•°æ®åº“åˆå§‹åŒ–
python app.py  # é¦–æ¬¡è¿è¡Œè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“
```

**å¸¸è§é—®é¢˜è§£å†³ï¼š**
- pipå®‰è£…æ…¢çš„è§£å†³æ–¹æ¡ˆ
- è™šæ‹Ÿç¯å¢ƒé…ç½®
- ç«¯å£å†²çªå¤„ç†

#### 1.3 ç¬¬ä¸€ä¸ªAPIå¼€å‘ (45åˆ†é’Ÿ)
**ä»£ç å®æˆ˜ï¼š**
```python
# åŸºç¡€Hello World
@app.route('/api/hello')
def hello():
    return jsonify({'message': 'Hello, Kiddie Color!'})

# å¸¦å‚æ•°çš„API
@app.route('/api/greet/<name>')
def greet(name):
    return jsonify({'greeting': f'Hello, {name}!'})

# POSTè¯·æ±‚å¤„ç†
@app.route('/api/echo', methods=['POST'])
def echo():
    data = request.get_json()
    return jsonify({'received': data})
```

**æµ‹è¯•å·¥å…·ä½¿ç”¨ï¼š**
- PostmanåŸºç¡€æ“ä½œ
- curlå‘½ä»¤æµ‹è¯•
- æµè§ˆå™¨å¼€å‘è€…å·¥å…·

---

### æ¨¡å—2ï¼šæ•°æ®åº“è®¾è®¡ä¸æ¨¡å‹
**ğŸ• æ—¶é•¿ï¼š3å°æ—¶ | ğŸ“Š éš¾åº¦ï¼šâ­â­ | ğŸ¯ ç›®æ ‡ï¼šæŒæ¡æ•°æ®å»ºæ¨¡**

#### 2.1 æ•°æ®åº“è®¾è®¡ç†è®º (45åˆ†é’Ÿ)
**æ ¸å¿ƒæ¦‚å¿µï¼š**
- å®ä½“å…³ç³»å›¾(ERD)ç»˜åˆ¶
- èŒƒå¼ç†è®º(1NF, 2NF, 3NF)
- å„¿ç«¥æ¶‚è‰²å¹³å°çš„å®ä½“è¯†åˆ«

**å®é™…æ¡ˆä¾‹åˆ†æï¼š**
```sql
-- ç”¨æˆ·è¡¨è®¾è®¡
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    credits INTEGER DEFAULT 0,
    is_admin BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ç§¯åˆ†äº¤æ˜“è¡¨è®¾è®¡
CREATE TABLE credit_transactions (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER REFERENCES users(id),
    amount INTEGER NOT NULL,
    type VARCHAR(20) NOT NULL, -- 'earn', 'spend'
    description TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### 2.2 SQLAlchemyæ¨¡å‹å¼€å‘ (90åˆ†é’Ÿ)
**æ¸è¿›å¼å¼€å‘ï¼š**

**æ­¥éª¤1ï¼šåŸºç¡€æ¨¡å‹**
```python
from flask_sqlalchemy import SQLAlchemy
from datetime import datetime

db = SQLAlchemy()

class User(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    username = db.Column(db.String(50), unique=True, nullable=False)
    email = db.Column(db.String(100), unique=True, nullable=False)
    password_hash = db.Column(db.String(255), nullable=False)
    credits = db.Column(db.Integer, default=0)
    is_admin = db.Column(db.Boolean, default=False)
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
```

**æ­¥éª¤2ï¼šæ¨¡å‹å…³ç³»**
```python
class CreditTransaction(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)
    amount = db.Column(db.Integer, nullable=False)
    type = db.Column(db.String(20), nullable=False)
    description = db.Column(db.Text)
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
    
    # å…³ç³»å®šä¹‰
    user = db.relationship('User', backref=db.backref('transactions', lazy=True))
```

**æ­¥éª¤3ï¼šæ¨¡å‹æ–¹æ³•**
```python
class User(db.Model):
    # ... å­—æ®µå®šä¹‰ ...
    
    def set_password(self, password):
        self.password_hash = bcrypt.generate_password_hash(password).decode('utf-8')
    
    def check_password(self, password):
        return bcrypt.check_password_hash(self.password_hash, password)
    
    def add_credits(self, amount, description):
        self.credits += amount
        transaction = CreditTransaction(
            user_id=self.id,
            amount=amount,
            type='earn',
            description=description
        )
        db.session.add(transaction)
        db.session.commit()
```

#### 2.3 æ•°æ®åº“æ“ä½œå®æˆ˜ (45åˆ†é’Ÿ)
**CRUDæ“ä½œç»ƒä¹ ï¼š**
```python
# åˆ›å»ºç”¨æˆ·
user = User(username='testuser', email='test@example.com')
user.set_password('123456')
db.session.add(user)
db.session.commit()

# æŸ¥è¯¢ç”¨æˆ·
user = User.query.filter_by(username='testuser').first()

# æ›´æ–°ç§¯åˆ†
user.add_credits(10, 'æ³¨å†Œå¥–åŠ±')

# å¤æ‚æŸ¥è¯¢
from sqlalchemy import func
# æŸ¥è¯¢ç§¯åˆ†æœ€é«˜çš„10ä¸ªç”¨æˆ·
top_users = User.query.order_by(User.credits.desc()).limit(10).all()

# æŸ¥è¯¢ç”¨æˆ·çš„ç§¯åˆ†å˜åŒ–å†å²
transactions = CreditTransaction.query.filter_by(user_id=user.id)\
                                     .order_by(CreditTransaction.created_at.desc()).all()
```

---

### æ¨¡å—3ï¼šç”¨æˆ·è®¤è¯ç³»ç»Ÿ
**ğŸ• æ—¶é•¿ï¼š4å°æ—¶ | ğŸ“Š éš¾åº¦ï¼šâ­â­â­ | ğŸ¯ ç›®æ ‡ï¼šå®‰å…¨è®¤è¯**

#### 3.1 JWTè®¤è¯åŸç† (60åˆ†é’Ÿ)
**ç†è®ºè®²è§£ï¼š**
- Session vs Tokenè®¤è¯å¯¹æ¯”
- JWTç»“æ„è¯¦è§£ï¼šHeaderã€Payloadã€Signature
- åˆ·æ–°Tokenæœºåˆ¶
- å®‰å…¨æœ€ä½³å®è·µ

**å®é™…æ¡ˆä¾‹ï¼š**
```javascript
// JWT Tokenç¤ºä¾‹
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.
eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.
SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
```

#### 3.2 æ³¨å†ŒåŠŸèƒ½å¼€å‘ (75åˆ†é’Ÿ)
**å®Œæ•´å®ç°ï¼š**

**APIè®¾è®¡ï¼š**
```python
POST /api/auth/register
Content-Type: application/json

{
    "username": "newuser",
    "email": "user@example.com",
    "password": "securepassword123"
}
```

**åç«¯å®ç°ï¼š**
```python
from flask import Blueprint, request, jsonify
from werkzeug.security import generate_password_hash
import re

auth_bp = Blueprint('auth', __name__, url_prefix='/api/auth')

@auth_bp.route('/register', methods=['POST'])
def register():
    try:
        data = request.get_json()
        
        # æ•°æ®éªŒè¯
        username = data.get('username', '').strip()
        email = data.get('email', '').strip()
        password = data.get('password', '')
        
        # éªŒè¯è§„åˆ™
        if not username or len(username) < 3:
            return jsonify({'error': 'ç”¨æˆ·åè‡³å°‘éœ€è¦3ä¸ªå­—ç¬¦'}), 400
            
        if not re.match(r'^[\w\.-]+@[\w\.-]+\.\w+$', email):
            return jsonify({'error': 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®'}), 400
            
        if len(password) < 6:
            return jsonify({'error': 'å¯†ç è‡³å°‘éœ€è¦6ä¸ªå­—ç¬¦'}), 400
        
        # æ£€æŸ¥é‡å¤
        if User.query.filter_by(username=username).first():
            return jsonify({'error': 'ç”¨æˆ·åå·²å­˜åœ¨'}), 400
            
        if User.query.filter_by(email=email).first():
            return jsonify({'error': 'é‚®ç®±å·²è¢«æ³¨å†Œ'}), 400
        
        # åˆ›å»ºç”¨æˆ·
        user = User(username=username, email=email)
        user.set_password(password)
        db.session.add(user)
        db.session.commit()
        
        return jsonify({
            'message': 'æ³¨å†ŒæˆåŠŸ',
            'user': {
                'id': user.id,
                'username': user.username,
                'email': user.email,
                'credits': user.credits
            }
        }), 201
        
    except Exception as e:
        db.session.rollback()
        return jsonify({'error': 'æ³¨å†Œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'}), 500
```

#### 3.3 ç™»å½•åŠŸèƒ½å¼€å‘ (60åˆ†é’Ÿ)
**å®Œæ•´å®ç°ï¼š**
```python
from flask_jwt_extended import create_access_token, create_refresh_token
from datetime import timedelta

@auth_bp.route('/login', methods=['POST'])
def login():
    try:
        data = request.get_json()
        username = data.get('username', '').strip()
        password = data.get('password', '')
        
        # æŸ¥æ‰¾ç”¨æˆ·
        user = User.query.filter_by(username=username).first()
        
        if not user or not user.check_password(password):
            return jsonify({'error': 'ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯'}), 401
        
        # åˆ›å»ºToken
        access_token = create_access_token(
            identity=user.id,
            expires_delta=timedelta(days=7)
        )
        
        refresh_token = create_refresh_token(
            identity=user.id,
            expires_delta=timedelta(days=30)
        )
        
        return jsonify({
            'message': 'ç™»å½•æˆåŠŸ',
            'access_token': access_token,
            'refresh_token': refresh_token,
            'user': {
                'id': user.id,
                'username': user.username,
                'email': user.email,
                'credits': user.credits,
                'is_admin': user.is_admin
            }
        }), 200
        
    except Exception as e:
        return jsonify({'error': 'ç™»å½•å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'}), 500
```

#### 3.4 æƒé™éªŒè¯ä¸­é—´ä»¶ (45åˆ†é’Ÿ)
**è£…é¥°å™¨å®ç°ï¼š**
```python
from functools import wraps
from flask_jwt_extended import jwt_required, get_jwt_identity

def admin_required(f):
    @wraps(f)
    @jwt_required()
    def decorated_function(*args, **kwargs):
        user_id = get_jwt_identity()
        user = User.query.get(user_id)
        
        if not user or not user.is_admin:
            return jsonify({'error': 'éœ€è¦ç®¡ç†å‘˜æƒé™'}), 403
            
        return f(*args, **kwargs)
    return decorated_function

# ä½¿ç”¨ç¤ºä¾‹
@admin_required
@app.route('/api/admin/users')
def get_all_users():
    users = User.query.all()
    return jsonify([{
        'id': u.id,
        'username': u.username,
        'email': u.email,
        'credits': u.credits,
        'created_at': u.created_at.isoformat()
    } for u in users])
```

---

## ğŸ“Š è¯¾ç¨‹å®æ–½å»ºè®®

### ğŸ¯ æ•™å­¦æ–¹å¼
1. **ç†è®º+å®è·µ**ï¼šæ¯ä¸ªæ¦‚å¿µéƒ½é…åˆä»£ç å®æˆ˜
2. **æ¸è¿›å¼å¼€å‘**ï¼šä»ç®€å•åˆ°å¤æ‚ï¼Œé€æ­¥æ„å»º
3. **é”™è¯¯é©±åŠ¨å­¦ä¹ **ï¼šæ•…æ„åˆ¶é€ bugï¼Œå­¦ä¹ è°ƒè¯•
4. **ä»£ç å®¡æŸ¥**ï¼šå­¦å‘˜äº’ç›¸reviewä»£ç 
5. **é¡¹ç›®é©±åŠ¨**ï¼šä»¥å®Œæ•´é¡¹ç›®ä¸ºæœ€ç»ˆç›®æ ‡

### ğŸ“ˆ å­¦ä¹ è¿›åº¦è·Ÿè¸ª
- **æ¯æ—¥æ‰“å¡**ï¼šä»£ç æäº¤å’Œç¬”è®°
- **å‘¨åº¦é¡¹ç›®**ï¼šå°åŠŸèƒ½æ¨¡å—å®Œæˆ
- **æœˆåº¦è¯„ä¼°**ï¼šç»¼åˆæŠ€èƒ½æµ‹è¯•
- **æœ€ç»ˆé¡¹ç›®**ï¼šå®Œæ•´åº”ç”¨éƒ¨ç½²

### ğŸ› ï¸ æŠ€æœ¯æ”¯æŒ
- **åœ¨çº¿ç­”ç–‘**ï¼šå¾®ä¿¡ç¾¤/QQç¾¤
- **ä»£ç ä»“åº“**ï¼šGitHubåä½œ
- **æ–‡æ¡£ç»´æŠ¤**ï¼šå®æ—¶æ›´æ–°æ•™ç¨‹
- **è§†é¢‘å›æ”¾**ï¼šè¯¾ç¨‹å½•åˆ¶

### ğŸ† æ¿€åŠ±æœºåˆ¶
- **ç§¯åˆ†ç³»ç»Ÿ**ï¼šæ¨¡ä»¿é¡¹ç›®ç§¯åˆ†æœºåˆ¶
- **æ’è¡Œæ¦œ**ï¼šå­¦ä¹ è¿›åº¦æ’å
- **è¯ä¹¦è®¤è¯**ï¼šå®Œæˆæ¨¡å—é¢å‘è¯ä¹¦
- **é¡¹ç›®å±•ç¤º**ï¼šä¼˜ç§€ä½œå“å±•ç¤º

---

## ğŸ“… è¯¾ç¨‹æ—¶é—´å®‰æ’

### å…¨æ—¥åˆ¶ç­ (4å‘¨)
- æ¯å‘¨5å¤©ï¼Œæ¯å¤©5å°æ—¶
- ä¸Šåˆï¼šç†è®ºå­¦ä¹  (2å°æ—¶)
- ä¸‹åˆï¼šå®è·µå¼€å‘ (3å°æ—¶)

### ä¸šä½™ç­ (8å‘¨)
- æ¯å‘¨3æ¬¡ï¼Œæ¯æ¬¡3å°æ—¶
- å‘¨äºŒã€å››ã€å…­æ™šä¸Š
- å‘¨æœ«ï¼šé¡¹ç›®å®æˆ˜

### åœ¨çº¿ç­ (12å‘¨)
- æ¯å‘¨2æ¬¡ç›´æ’­ï¼Œæ¯æ¬¡2å°æ—¶
- å½•æ’­è§†é¢‘éšæ—¶å­¦ä¹ 
- åœ¨çº¿ç­”ç–‘å’Œä»£ç review

---

## ğŸ’° è¯¾ç¨‹å®šä»·ç­–ç•¥

### åŸºç¡€ç­ (Â¥2999)
- æ¨¡å—1-5å†…å®¹
- åŸºç¡€é¡¹ç›®å®Œæˆ
- 3ä¸ªæœˆç­”ç–‘æ”¯æŒ

### è¿›é˜¶ç­ (Â¥4999)
- å…¨éƒ¨æ¨¡å—å†…å®¹
- é«˜çº§åŠŸèƒ½å¼€å‘
- 6ä¸ªæœˆç­”ç–‘æ”¯æŒ
- å°±ä¸šæŒ‡å¯¼

### ä¼ä¸šç­ (Â¥8999)
- å®šåˆ¶åŒ–å†…å®¹
- å›¢é˜Ÿé¡¹ç›®å®æˆ˜
- 1å¹´æŠ€æœ¯æ”¯æŒ
- å†…æ¨æœºä¼š

---

è¿™ä¸ªè¯¦ç»†è§„åˆ’æä¾›äº†å®Œæ•´çš„è¯¾ç¨‹å®æ–½æ–¹æ¡ˆï¼Œå¯ä»¥æ ¹æ®å®é™…éœ€æ±‚è¿›è¡Œè°ƒæ•´å’Œæ‰©å±•ã€‚
